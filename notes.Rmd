---
title: "notes"
runtime: shiny
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

Discrete White Noise

If the elements of the series, $w_i$ , are independent and identically distributed (i.i.d.),
with a mean of zero, variance $σ^2$  and no serial correlation (i.e. $Cor(w_i , w_j ) = 0, ∀i \neq j$)
then we say that the time series is discrete white noise (DWN).


Random Walk

A random walk is a time series model $x_t$ such that $x_t = x_{t−1} + w_t$ , where $w_t$ is a discrete white noise series.
- non-stationary, variance is time-dependent

```{r}
x <- w <- rnorm(1000)
for (t in 2:1000) x[t] <- x[t-1] + w[t]
plot(x, type="l")
```

AR(p)

$$x_t = α_1 x_{t−1} + . . . + α_p x_{t−p} + w_t$$

$$θ_p(\mathbf{B})x_t = (1 − α_1 \mathbf{B} − α_2 \mathbf{B}^2 − . . . − α_p \mathbf{B}^p)x_t = w_t$$


characteristic equation: $$θ_p (\mathbf{B}) = 0$$

AR(p) is stationary only if all roots exceed 1!

Examples

• Random Walk = AR(1) process with $α_1 = 1$ has the characteristic equation $θ = 1−B$.
  root B = 1 => not stationary
• AR(1) with $a_1 = 1/4$ => root B = 4 => stationary
• AR(2) with $α_1 = α_2 = 2$ => roots B = 1, −2 => non-stationary 


AR(1)

```{r}
a1 = 0.6
x <- w <- rnorm(1000)
for (t in 2:1000) x[t] <- a1 * x[t-1] + w[t]
plot(x, type="l")
acf(x)
```

```{r}
a1 = 0.1
x <- w <- rnorm(1000)
for (t in 2:1000) x[t] <- a1 * x[t-1] + w[t]
plot(x, type="l")
acf(x)
```

AR(2)

```{r}
a1 = 0.6
a2 = 0.3
x <- w <- rnorm(1000)
x[2] <- a1 * x[1]
for (t in 3:1000) x[t] <- a1 * x[t-1] + a2 * x[t-2] + w[t]
plot(x, type="l")
acf(x)
```

AR(3)

```{r}
a1 = 0.06
a2 = 0.03
a3 = -0.4
x <- w <- rnorm(1000)
x[2] <- a1 * x[1]
x[3] <- a1 * x[1] + a2 * x[t-2] 
for (t in 4:1000) x[t] <- a1 * x[t-1] + a2 * x[t-2] + a3 * x[t-3] + w[t]
plot(x, type="l")
acf(x)
```


MA(q)

$$x_t = w_t + \beta_1 w_{t−1} + . . . + \beta_q w_{t−q}$$

$$\phi_q(\mathbf{B})w_t = (1 + \beta_1 \mathbf{B} + \beta_2 \mathbf{B}^2 + . . . + \beta_q \mathbf{B}^q)w_t = x_t$$

MA(1)

```{r}
b1 = 0.6
x <- w <- rnorm(1000)
for (t in 2:1000) x[t] <-  w[t] + b1 * w[t-1] 
plot(x, type="l")
acf(x)
```

```{r}
b1 = 0.1
x <- w <- rnorm(1000)
for (t in 2:1000) x[t] <- w[t] + b1 * w[t-1] 
plot(x, type="l")
acf(x)
```


MA(2)

```{r}
b1 = 0.6
b2 = 0.3
x <- w <- rnorm(1000)
x[2] <- b1 * w[1]
for (t in 3:1000) x[t] <-  w[t] + b1 * w[t-1] + b2 * w[t-2] 
plot(x, type="l")
acf(x)
```


ARMA(p,q)

```{r}
x <- arima.sim(n=1000, model=list(ar=0.5, ma=-0.5))
plot(x)
acf(x)
```


ARIMA(p,d,q)

```{r}
x <- arima.sim(list(order = c(1,1,1), ar = 0.6, ma=-0.5), n = 1000)
plot(x)
acf(x)
```

```{r}
x <- arima.sim(list(order = c(2,2,0), ar = c(0.6,-0.5)), n = 1000)
plot(x)
acf(x)
```


weiter p. 131